{"ast":null,"code":"import _toConsumableArray from\"/Users/luxx/Desktop/frontend-projectsharing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/luxx/Desktop/frontend-projectsharing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/luxx/Desktop/frontend-projectsharing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/luxx/Desktop/frontend-projectsharing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/luxx/Desktop/frontend-projectsharing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{Modal,Button,Row,Col,Form,Input}from'antd';import React,{Component}from\"react\";import{InboxOutlined,PlusCircleOutlined}from'@ant-design/icons';import{Upload,message}from'antd';import CompanyService from\"../service/CompanyService\";var Dragger=Upload.Dragger;var CompanyAddProjectModal=/*#__PURE__*/function(_Component){_inherits(CompanyAddProjectModal,_Component);var _super=_createSuper(CompanyAddProjectModal);function CompanyAddProjectModal(props){var _this;_classCallCheck(this,CompanyAddProjectModal);_this=_super.call(this,props);_this.showModal=function(){_this.setState({visible:true});};_this.handleOk=function(values){var _this$state=_this.state,projectName=_this$state.projectName,description=_this$state.description,fileList=_this$state.fileList;var formData=new FormData();fileList.forEach(function(file){formData.append('file',file);});formData.append('projectName',projectName);formData.append('description',description);CompanyService.createProject(formData).then(function(response){console.log(response.data);_this.props.refresh();});_this.setState({confirmLoading:true});setTimeout(function(){_this.setState({visible:false,confirmLoading:false});},500);};_this.handleCancel=function(){console.log('Clicked cancel button');_this.setState({visible:false});};_this.handelNameChange=function(e){_this.setState({projectName:e.target.value});};_this.handelDescriptionChange=function(e){_this.setState({description:e.target.value});};_this.state={ModalText:'Content of the modal',visible:false,confirmLoading:false,fileList:[],projectName:'',description:''};_this.props=props;return _this;}_createClass(CompanyAddProjectModal,[{key:\"render\",value:function render(){var _this2=this;var _this$state2=this.state,visible=_this$state2.visible,confirmLoading=_this$state2.confirmLoading;var _this$state3=this.state,fileList=_this$state3.fileList,projectName=_this$state3.projectName,description=_this$state3.description;var props={onRemove:function onRemove(file){_this2.setState(function(state){var index=state.fileList.indexOf(file);var newFileList=state.fileList.slice();newFileList.splice(index,1);return{fileList:newFileList};});},beforeUpload:function beforeUpload(file){_this2.setState(function(state){return{fileList:[].concat(_toConsumableArray(state.fileList),[file])};});return false;},fileList:fileList,accept:\".doc, .docx, .pdf\"};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{type:\"primary\",onClick:this.showModal},/*#__PURE__*/React.createElement(PlusCircleOutlined,null),\"Add project\"),/*#__PURE__*/React.createElement(Modal,{title:\"Add a new object\",visible:visible,onOk:this.handleOk,confirmLoading:confirmLoading,onCancel:this.handleCancel,okText:\"submit\"},/*#__PURE__*/React.createElement(Form,{layout:\"vertical\",hideRequiredMark:true,onFinish:this.update,initialValues:{residence:['zhejiang','hangzhou','xihu'],prefix:'1'}},/*#__PURE__*/React.createElement(Row,{gutter:16},/*#__PURE__*/React.createElement(Col,{span:12},/*#__PURE__*/React.createElement(Form.Item,{name:\"Project Name\",label:\"Project Name\",rules:[{required:true,message:'Please enter project name'}]},/*#__PURE__*/React.createElement(Input,{placeholder:\"Please enter project name\",value:projectName,onChange:this.handelNameChange.bind(this)})))),/*#__PURE__*/React.createElement(Row,{gutter:16},/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(Form.Item,{name:\"description\",label:\"Description\",rules:[{required:true,message:'description of the project'}]},/*#__PURE__*/React.createElement(Input.TextArea,{rows:4,placeholder:\"please enter the description\",value:description,onChange:this.handelDescriptionChange.bind(this)})))),/*#__PURE__*/React.createElement(Row,{gutter:30},/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(Dragger,props,/*#__PURE__*/React.createElement(\"p\",{className:\"ant-upload-drag-icon\"},/*#__PURE__*/React.createElement(InboxOutlined,null)),/*#__PURE__*/React.createElement(\"p\",{className:\"ant-upload-text\"},\"Click or drag file to this area to upload\"),/*#__PURE__*/React.createElement(\"p\",{className:\"ant-upload-hint\"},\"Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files\")))),/*#__PURE__*/React.createElement(Row,{gutter:30},/*#__PURE__*/React.createElement(\"br\",null)))));}}]);return CompanyAddProjectModal;}(Component);export default CompanyAddProjectModal;","map":{"version":3,"sources":["/Users/luxx/Desktop/frontend-projectsharing/src/component/comapny/CompanyAddProjectModal.js"],"names":["Modal","Button","Row","Col","Form","Input","React","Component","InboxOutlined","PlusCircleOutlined","Upload","message","CompanyService","Dragger","CompanyAddProjectModal","props","showModal","setState","visible","handleOk","values","state","projectName","description","fileList","formData","FormData","forEach","file","append","createProject","then","response","console","log","data","refresh","confirmLoading","setTimeout","handleCancel","handelNameChange","e","target","value","handelDescriptionChange","ModalText","onRemove","index","indexOf","newFileList","slice","splice","beforeUpload","accept","update","residence","prefix","required","bind"],"mappings":"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","sourcesContent":["import {Modal, Button, Row, Col, Form, Input} from 'antd';\nimport React, {Component} from \"react\";\nimport { InboxOutlined, PlusCircleOutlined } from '@ant-design/icons';\nimport { Upload, message } from 'antd';\nimport CompanyService from \"../service/CompanyService\";\n\nconst { Dragger } = Upload;\n\nclass CompanyAddProjectModal extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ModalText: 'Content of the modal',\n            visible: false,\n            confirmLoading: false,\n            fileList: [],\n            projectName: '',\n            description: '',\n        };\n        this.props = props;\n    }\n\n\n    showModal = () => {\n        this.setState({\n            visible: true,\n        });\n    };\n\n    handleOk = (values) => {\n        const {projectName, description, fileList} = this.state;\n        const formData = new FormData();\n        fileList.forEach(file => {\n            formData.append('file', file);\n        });\n        formData.append('projectName', projectName);\n        formData.append('description', description);\n        CompanyService.createProject(formData).then(response => {\n            console.log(response.data)\n            this.props.refresh();\n        })\n        this.setState({\n            confirmLoading: true,\n        });\n        setTimeout(() => {\n            this.setState({\n                visible: false,\n                confirmLoading: false,\n            });\n\n        }, 500);\n    };\n\n    handleCancel = () => {\n        console.log('Clicked cancel button');\n        this.setState({\n            visible: false,\n        });\n    };\n\n    handelNameChange = (e) => {\n        this.setState({\n            projectName: e.target.value\n        })\n    }\n\n    handelDescriptionChange = (e) => {\n        this.setState({\n            description: e.target.value\n        })\n    }\n\n    render() {\n        const { visible, confirmLoading } = this.state;\n        const { fileList, projectName, description } = this.state;\n        const props = {\n            onRemove: file => {\n                this.setState(state => {\n                    const index = state.fileList.indexOf(file);\n                    const newFileList = state.fileList.slice();\n                    newFileList.splice(index, 1);\n                    return {\n                        fileList: newFileList,\n                    };\n                });\n            },\n            beforeUpload: file => {\n                this.setState(state => ({\n                    fileList: [...state.fileList, file],\n                }));\n                return false;\n            },\n            fileList,\n            accept: \".doc, .docx, .pdf\"\n        };\n        return (\n            <div>\n                <Button type=\"primary\" onClick={this.showModal}>\n                    <PlusCircleOutlined />Add project\n                </Button>\n                <Modal\n                    title=\"Add a new object\"\n                    visible={visible}\n                    onOk={this.handleOk}\n                    confirmLoading={confirmLoading}\n                    onCancel={this.handleCancel}\n                    okText=\"submit\"\n                >\n                    <Form\n                        layout=\"vertical\"\n                        hideRequiredMark\n                        onFinish={this.update}\n                        initialValues={{\n                            residence: ['zhejiang', 'hangzhou', 'xihu'],\n                            prefix: '1',\n                        }}\n                    >\n                        <Row gutter={16}>\n                            <Col span={12}>\n                                <Form.Item\n                                    name=\"Project Name\"\n                                    label=\"Project Name\"\n                                    rules={[\n                                        { required: true, message: 'Please enter project name' }\n                                    ]}\n                                >\n                                    <Input placeholder=\"Please enter project name\" value={projectName}\n                                           onChange={this.handelNameChange.bind(this)} />\n                                </Form.Item>\n                            </Col>\n\n                        </Row>\n                        <Row gutter={16}>\n                            <Col span={24}>\n                                <Form.Item\n                                    name=\"description\"\n                                    label=\"Description\"\n                                    rules={[\n                                        {\n                                            required: true,\n                                            message: 'description of the project',\n                                        },\n                                    ]}\n                                >\n                                    <Input.TextArea rows={4} placeholder=\"please enter the description\" value={description}\n                                    onChange={this.handelDescriptionChange.bind(this)}/>\n                                </Form.Item>\n                            </Col>\n                        </Row>\n                        <Row gutter={30}>\n                            <Col span={24}>\n                                <Dragger {...props} >\n                                    <p className=\"ant-upload-drag-icon\">\n                                        <InboxOutlined />\n                                    </p>\n                                    <p className=\"ant-upload-text\">Click or drag file to this area to upload</p>\n                                    <p className=\"ant-upload-hint\">\n                                        Support for a single or bulk upload. Strictly prohibit from uploading company data or other\n                                        band files\n                                    </p>\n                                </Dragger>\n                            </Col>\n\n                        </Row>\n                        <Row gutter={30}>\n                            <br/>\n                        </Row>\n\n                    </Form>\n                </Modal>\n            </div>\n        );\n    }\n}\n\nexport default CompanyAddProjectModal;"]},"metadata":{},"sourceType":"module"}