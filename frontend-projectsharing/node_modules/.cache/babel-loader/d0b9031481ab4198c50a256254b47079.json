{"ast":null,"code":"import _toConsumableArray from\"/Users/luxx/Desktop/frontend-projectsharing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/luxx/Desktop/frontend-projectsharing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/luxx/Desktop/frontend-projectsharing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/luxx/Desktop/frontend-projectsharing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/luxx/Desktop/frontend-projectsharing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import CompanyService from\"../service/CompanyService\";import{Button,Col,Form,Input,message,Modal,Row}from\"antd\";import{InboxOutlined,PlusCircleOutlined}from\"@ant-design/icons\";import Dragger from\"antd/es/upload/Dragger\";import Descriptions from\"antd/es/descriptions\";import Badge from\"antd/es/badge\";import ContainerOutlined from\"@ant-design/icons/lib/icons/ContainerOutlined\";import DeleteOutlined from\"@ant-design/icons/lib/icons/DeleteOutlined\";import Popconfirm from\"antd/es/popconfirm\";var CompanyStudentModal=/*#__PURE__*/function(_Component){_inherits(CompanyStudentModal,_Component);var _super=_createSuper(CompanyStudentModal);function CompanyStudentModal(props){var _this;_classCallCheck(this,CompanyStudentModal);_this=_super.call(this,props);_this.showModal=function(){_this.setState({visible:true});};_this.handleOk=function(){var _this$state=_this.state,studentId=_this$state.studentId,fileList=_this$state.fileList;var formData=new FormData();fileList.forEach(function(file){formData.append('file',file);});formData.append('studentId',studentId);CompanyService.issueLetter(formData).then(function(response){message.success(\"upload successfully\");_this.setState({letter:response.data.letterUrl,letterId:response.data.id});}).catch(function(error){message.error(\"upload failed\");});_this.setState({confirmLoading:true});setTimeout(function(){_this.setState({confirmLoading:false});},500);};_this.handleCancel=function(){console.log('Clicked cancel button');_this.setState({visible:false});};_this.confirm=function(e){CompanyService.deleteLetter(_this.state.letterId).then(function(response){_this.setState({letter:undefined,letterId:''});message.success(\"delete successfully\");}).catch(function(error){message.error(\"delete failed\");});};console.log(props.student.student.firstName);_this.state={ModalText:'Content of the modal',visible:false,confirmLoading:false,fileList:[],firstName:_this.props.student.student.firstName,lastName:_this.props.student.student.lastName,institution:_this.props.student.student.institution,studentId:_this.props.student.student_id,phone:_this.props.student.student_phone,resume:_this.props.student.resume,email:_this.props.student.email,status:_this.props.student.status,letter:_this.props.student.letter,letterId:_this.props.student.letterId};_this.props=props;return _this;}_createClass(CompanyStudentModal,[{key:\"componentDidMount\",value:function componentDidMount(){this.forceUpdate();}},{key:\"render\",value:function render(){var _this2=this;var _this$state2=this.state,visible=_this$state2.visible,confirmLoading=_this$state2.confirmLoading,fileList=_this$state2.fileList,projectName=_this$state2.projectName,description=_this$state2.description,letterId=_this$state2.letterId;var props={onRemove:function onRemove(file){_this2.setState(function(state){var index=state.fileList.indexOf(file);var newFileList=state.fileList.slice();newFileList.splice(index,1);return{fileList:newFileList};});},beforeUpload:function beforeUpload(file){_this2.setState(function(state){return{fileList:[].concat(_toConsumableArray(state.fileList),[file])};});return false;},fileList:fileList,accept:\".doc, .docx, .pdf\"};var status;var resume;if(this.state.status==='pending'){status=/*#__PURE__*/React.createElement(Badge,{status:\"warning\",text:this.state.status});}else if(this.state.status==='rejected'){status=/*#__PURE__*/React.createElement(Badge,{status:\"error\",text:this.state.status});}else if(this.state.status==='approved'){status=/*#__PURE__*/React.createElement(Badge,{status:\"success\",text:this.state.status});resume=/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Dragger,props,/*#__PURE__*/React.createElement(\"p\",{className:\"ant-upload-drag-icon\"},/*#__PURE__*/React.createElement(InboxOutlined,null)),/*#__PURE__*/React.createElement(\"p\",{className:\"ant-upload-text\"},\"Click or drag file to this area to upload\"),/*#__PURE__*/React.createElement(\"p\",{className:\"ant-upload-hint\"},\"Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files\")));}else{status=/*#__PURE__*/React.createElement(Badge,{status:\"default\",text:this.state.status});resume=/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Dragger,props,/*#__PURE__*/React.createElement(\"p\",{className:\"ant-upload-drag-icon\"},/*#__PURE__*/React.createElement(InboxOutlined,null)),/*#__PURE__*/React.createElement(\"p\",{className:\"ant-upload-text\"},\"Click or drag file to this area to upload\"),/*#__PURE__*/React.createElement(\"p\",{className:\"ant-upload-hint\"},\"Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files\")));}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"a\",{onClick:this.showModal},this.state.firstName,\" \",this.state.lastName),/*#__PURE__*/React.createElement(Modal,{title:\"Add a new object\",visible:visible,onOk:this.handleOk,confirmLoading:confirmLoading,onCancel:this.handleCancel,okText:\"submit\",width:800},/*#__PURE__*/React.createElement(Descriptions,{title:\"User Info\",bordered:true},/*#__PURE__*/React.createElement(Descriptions.Item,{label:\"First Name\"},this.state.firstName),/*#__PURE__*/React.createElement(Descriptions.Item,{label:\"Last Name\"},this.state.lastName),/*#__PURE__*/React.createElement(Descriptions.Item,{label:\"email\"},this.state.email),/*#__PURE__*/React.createElement(Descriptions.Item,{label:\"phone\"},this.state.phone),/*#__PURE__*/React.createElement(Descriptions.Item,{label:\"institution\",span:2},\" \",this.state.institution),/*#__PURE__*/React.createElement(Descriptions.Item,{label:\"Status\",span:3},status),/*#__PURE__*/React.createElement(Descriptions.Item,{label:\"resume\"},this.state.resume?/*#__PURE__*/React.createElement(\"a\",{href:this.state.resume},/*#__PURE__*/React.createElement(ContainerOutlined,null),\" \\xA0 resume.pdf\"):/*#__PURE__*/React.createElement(\"span\",null,\"None\")),/*#__PURE__*/React.createElement(Descriptions.Item,{label:\"recommendation\"},this.state.letter?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"a\",{href:this.state.letter},/*#__PURE__*/React.createElement(ContainerOutlined,null),\" \\xA0 letter.pdf\"),\" \\xA0\\xA0\\xA0\\xA0 \\xA0\\xA0\",/*#__PURE__*/React.createElement(Popconfirm,{title:\"Are you sure delete this task?\",onConfirm:this.confirm,okText:\"Yes\",cancelText:\"No\"},/*#__PURE__*/React.createElement(\"a\",{href:\"#\",className:\"deleteButton\"},/*#__PURE__*/React.createElement(DeleteOutlined,null),\"Delete \"))):/*#__PURE__*/React.createElement(\"span\",null,\"None\"))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Descriptions,{title:\"Recommendation letter\"}),resume));}}]);return CompanyStudentModal;}(Component);export default CompanyStudentModal;","map":{"version":3,"sources":["/Users/luxx/Desktop/frontend-projectsharing/src/component/comapny/CompanyStudentModal.js"],"names":["React","Component","CompanyService","Button","Col","Form","Input","message","Modal","Row","InboxOutlined","PlusCircleOutlined","Dragger","Descriptions","Badge","ContainerOutlined","DeleteOutlined","Popconfirm","CompanyStudentModal","props","showModal","setState","visible","handleOk","state","studentId","fileList","formData","FormData","forEach","file","append","issueLetter","then","response","success","letter","data","letterUrl","letterId","id","catch","error","confirmLoading","setTimeout","handleCancel","console","log","confirm","e","deleteLetter","undefined","student","firstName","ModalText","lastName","institution","student_id","phone","student_phone","resume","email","status","forceUpdate","projectName","description","onRemove","index","indexOf","newFileList","slice","splice","beforeUpload","accept"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport CompanyService from \"../service/CompanyService\";\nimport {Button, Col, Form, Input, message, Modal, Row} from \"antd\";\nimport {InboxOutlined, PlusCircleOutlined} from \"@ant-design/icons\";\nimport Dragger from \"antd/es/upload/Dragger\";\nimport Descriptions from \"antd/es/descriptions\";\nimport Badge from \"antd/es/badge\";\nimport ContainerOutlined from \"@ant-design/icons/lib/icons/ContainerOutlined\";\nimport DeleteOutlined from \"@ant-design/icons/lib/icons/DeleteOutlined\";\nimport Popconfirm from \"antd/es/popconfirm\";\n\nclass CompanyStudentModal extends Component {\n    constructor(props) {\n        super(props);\n        console.log(props.student.student.firstName)\n        this.state = {\n            ModalText: 'Content of the modal',\n            visible: false,\n            confirmLoading: false,\n            fileList: [],\n            firstName: this.props.student.student.firstName,\n            lastName: this.props.student.student.lastName,\n            institution: this.props.student.student.institution,\n            studentId: this.props.student.student_id,\n            phone: this.props.student.student_phone,\n            resume: this.props.student.resume,\n            email: this.props.student.email,\n            status: this.props.student.status,\n            letter: this.props.student.letter,\n            letterId: this.props.student.letterId,\n        };\n        this.props = props;\n    }\n\n    componentDidMount() {\n        this.forceUpdate()\n    }\n\n\n    showModal = () => {\n        this.setState({\n            visible: true,\n        });\n    };\n\n    handleOk = () => {\n        const {studentId, fileList} = this.state;\n        const formData = new FormData();\n        fileList.forEach(file => {\n            formData.append('file', file);\n        });\n        formData.append('studentId', studentId)\n        CompanyService.issueLetter(formData).then(response => {\n            message.success(\"upload successfully\");\n            this.setState({\n                letter: response.data.letterUrl,\n                letterId: response.data.id,\n            })\n        }).catch(error => {\n            message.error(\"upload failed\");\n        })\n        this.setState({\n            confirmLoading: true,\n        });\n        setTimeout(() => {\n            this.setState({\n                confirmLoading: false,\n            });\n\n        }, 500);\n\n\n    };\n\n    handleCancel = () => {\n        console.log('Clicked cancel button');\n        this.setState({\n            visible: false,\n        });\n    };\n\n    confirm = (e) => {\n        CompanyService.deleteLetter(this.state.letterId).then(response => {\n            this.setState({\n                letter: undefined,\n                letterId: '',\n            })\n            message.success(\"delete successfully\")\n        }).catch(error => {\n            message.error(\"delete failed\")\n        })\n    }\n\n\n\n    render() {\n        const { visible, confirmLoading, fileList, projectName, description, letterId } = this.state;\n\n\n        const props = {\n            onRemove: file => {\n                this.setState(state => {\n                    const index = state.fileList.indexOf(file);\n                    const newFileList = state.fileList.slice();\n                    newFileList.splice(index, 1);\n                    return {\n                        fileList: newFileList,\n                    };\n                });\n            },\n            beforeUpload: file => {\n                this.setState(state => ({\n                    fileList: [...state.fileList, file],\n                }));\n                return false;\n            },\n            fileList,\n            accept: \".doc, .docx, .pdf\"\n        };\n\n        let status;\n        let resume;\n        if (this.state.status === 'pending') {\n            status = <Badge status=\"warning\" text={this.state.status} />\n        } else if (this.state.status === 'rejected') {\n            status = <Badge status=\"error\" text={this.state.status} />\n        } else if (this.state.status === 'approved') {\n            status= <Badge status=\"success\" text={this.state.status} />\n            resume = <>\n                <Dragger {...props} >\n                    <p className=\"ant-upload-drag-icon\">\n                        <InboxOutlined />\n                    </p>\n                    <p className=\"ant-upload-text\">Click or drag file to this area to upload</p>\n                    <p className=\"ant-upload-hint\">\n                        Support for a single or bulk upload. Strictly prohibit from uploading company data or other\n                        band files\n                    </p>\n                </Dragger></>\n        } else {\n            status= <Badge status=\"default\" text={this.state.status} />\n            resume = <>\n                <Dragger {...props} >\n                    <p className=\"ant-upload-drag-icon\">\n                        <InboxOutlined />\n                    </p>\n                    <p className=\"ant-upload-text\">Click or drag file to this area to upload</p>\n                    <p className=\"ant-upload-hint\">\n                        Support for a single or bulk upload. Strictly prohibit from uploading company data or other\n                        band files\n                    </p>\n                </Dragger></>\n        }\n        return (\n            <div>\n                <a  onClick={this.showModal}>\n                    {this.state.firstName} {this.state.lastName}\n                </a>\n                <Modal\n                    title=\"Add a new object\"\n                    visible={visible}\n                    onOk={this.handleOk}\n                    confirmLoading={confirmLoading}\n                    onCancel={this.handleCancel}\n                    okText=\"submit\"\n                    width={800}\n                >\n                    <Descriptions\n                        title=\"User Info\"\n                        bordered>\n                    <Descriptions.Item label=\"First Name\">{this.state.firstName}</Descriptions.Item>\n                    <Descriptions.Item label=\"Last Name\">{this.state.lastName}</Descriptions.Item>\n                    <Descriptions.Item label=\"email\">{this.state.email}</Descriptions.Item>\n                    <Descriptions.Item label=\"phone\">{this.state.phone}</Descriptions.Item>\n                    <Descriptions.Item label=\"institution\" span={2}> {this.state.institution}</Descriptions.Item>\n                    <Descriptions.Item label=\"Status\" span={3}>\n                        {status}\n                    </Descriptions.Item>\n                    <Descriptions.Item label=\"resume\">{this.state.resume ? (\n                            <a href={this.state.resume}><ContainerOutlined /> &nbsp; resume.pdf</a>\n                    ):(\n                        <span>None</span>\n                    )}\n                    </Descriptions.Item>\n                    <Descriptions.Item label=\"recommendation\">\n                        {this.state.letter ? (\n                            <>\n                                <a href={this.state.letter}><ContainerOutlined /> &nbsp; letter.pdf</a> &nbsp;&nbsp;&nbsp;&nbsp;\n                                &nbsp;&nbsp;\n                                <Popconfirm\n                                    title=\"Are you sure delete this task?\"\n                                    onConfirm={this.confirm}\n                                    okText=\"Yes\"\n                                    cancelText=\"No\"\n                                >\n                                    <a href=\"#\" className={\"deleteButton\"}><DeleteOutlined />Delete </a>\n                                </Popconfirm>\n                            </>\n                        ):(\n                            <span>None</span>\n                        )}\n                    </Descriptions.Item>\n\n\n                    </Descriptions>\n                    <br/>\n                    <Descriptions\n                        title=\"Recommendation letter\"/>\n\n                    {resume}\n                </Modal>\n            </div>\n        );\n    }\n}\n\nexport default CompanyStudentModal;"]},"metadata":{},"sourceType":"module"}