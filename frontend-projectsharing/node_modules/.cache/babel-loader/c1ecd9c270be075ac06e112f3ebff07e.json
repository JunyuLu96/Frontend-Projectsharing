{"ast":null,"code":"import _classCallCheck from\"/Users/luxx/Desktop/frontend-projectsharing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/luxx/Desktop/frontend-projectsharing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/luxx/Desktop/frontend-projectsharing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/luxx/Desktop/frontend-projectsharing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/luxx/Desktop/frontend-projectsharing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Col,Drawer,Form,Input,message,Row,Select}from\"antd\";import MailOutlined from\"@ant-design/icons/lib/icons/MailOutlined\";import WhatsAppOutlined from\"@ant-design/icons/lib/icons/WhatsAppOutlined\";import EditOutlined from\"@ant-design/icons/lib/icons/EditOutlined\";import Button from\"antd/es/button\";import Divider from\"antd/es/divider\";import CompanyService from\"../service/CompanyService\";import AuthenticationService from\"../service/AuthenticationService\";import Upload from\"antd/es/upload\";import Avatar from\"antd/es/avatar\";import UserOutlined from\"@ant-design/icons/lib/icons/UserOutlined\";var Option=Select.Option;var CompanyProfileManagerComponent=/*#__PURE__*/function(_Component){_inherits(CompanyProfileManagerComponent,_Component);var _super=_createSuper(CompanyProfileManagerComponent);function CompanyProfileManagerComponent(props){var _this;_classCallCheck(this,CompanyProfileManagerComponent);_this=_super.call(this,props);_this.showDrawer=function(){_this.setState({visible:true});};_this.onClose=function(){_this.setState({visible:false});};_this.refresh=function(){CompanyService.getCompanyInfo().then(function(response){_this.setState({companyName:response.data.companyInfo.firstName,icon:response.data.companyInfo.iconUrl,id:response.data.companyInfo.id,phone:response.data.phone,email:response.data.email,institution:response.data.companyInfo.institution,address:response.data.companyInfo.address});});};_this.update=function(values){CompanyService.updateStudentProfile(values).then(function(response){message.success(\"update successfully \");_this.setState({visible:false});_this.refresh();}).catch(function(error){return message.error(\"upload failed\");});};_this.state={visible:false,icon:'',companyName:'',email:'',phone:'',id:'',institution:'',address:''};_this.showDrawer=_this.showDrawer.bind(_assertThisInitialized(_this));_this.onClose=_this.onClose.bind(_assertThisInitialized(_this));return _this;}_createClass(CompanyProfileManagerComponent,[{key:\"componentDidMount\",value:function componentDidMount(){this.refresh();}},{key:\"render\",value:function render(){console.log(this.state);var prefixSelector=/*#__PURE__*/React.createElement(Form.Item,{name:\"prefix\",noStyle:true},/*#__PURE__*/React.createElement(Select,{style:{width:70}},/*#__PURE__*/React.createElement(Option,{value:\"1\"},\"+1\"),/*#__PURE__*/React.createElement(Option,{value:\"86\"},\"+86\")));var token=AuthenticationService.authHeader();var header={Authorization:token,'Access-Control-Allow-Origin':'*','Access-Control-Allow-Methods':'GET,PUT,POST,DELETE,PATCH'};var refresh=this.refresh;var uploadIcon={name:\"icon\",listType:\"picture\",className:\"avatar-uploader\",showUploadList:false,headers:header,action:'http://168.61.221.213:8080/enterprises/info/icon',onChange:function onChange(info){if(info.file.status!=='uploading'){console.log(info.file,info.fileList);}if(info.file.status==='done'){message.success(\"\".concat(info.file.name,\" file uploaded successfully\"));refresh();}else if(info.file.status==='error'){message.error(\"\".concat(info.file.name,\" file upload failed.\"));}}};return/*#__PURE__*/React.createElement(\"div\",{className:\"ant-card-bordered student-profile-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"profile-detail-head\"},/*#__PURE__*/React.createElement(\"div\",{className:\"profile-detail-head-wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"profile-detail-head-title\"},/*#__PURE__*/React.createElement(\"div\",{className:\"avatar\"},/*#__PURE__*/React.createElement(Upload,uploadIcon,this.state.icon?/*#__PURE__*/React.createElement(Avatar,{src:this.state.icon,className:\"project-img\",size:100,shape:\"square\"}):/*#__PURE__*/React.createElement(Avatar,{icon:/*#__PURE__*/React.createElement(UserOutlined,null),className:\"project-img\",size:100,shape:\"square\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"profile-title-right\"},/*#__PURE__*/React.createElement(\"div\",{className:\"div-context\"},this.state.companyName?/*#__PURE__*/React.createElement(\"h2\",null,this.state.companyName,\" \"):/*#__PURE__*/React.createElement(\"h2\",null,\"please input your name\")),/*#__PURE__*/React.createElement(\"div\",{className:\"div-context email-div\"},/*#__PURE__*/React.createElement(\"span\",{className:\"email-phone\"},/*#__PURE__*/React.createElement(MailOutlined,null),\" \\xA0 \",this.state.email,\" \\xA0\",/*#__PURE__*/React.createElement(WhatsAppOutlined,null),\" \",this.state.phone?this.state.phone:/*#__PURE__*/React.createElement(React.Fragment,null,\"no phone num\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"div-context\"},/*#__PURE__*/React.createElement(\"a\",{href:\"#\",className:\"edit-font\",onClick:this.showDrawer},/*#__PURE__*/React.createElement(EditOutlined,null),\" \\xA0 edit your profile\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"profile-edit\"},/*#__PURE__*/React.createElement(Button,{type:\"primary\",shape:\"round\",size:\"large\",onClick:this.showDrawer},\"Edit\"),/*#__PURE__*/React.createElement(Drawer,{title:\"Update your profile\",width:720,onClose:this.onClose,visible:this.state.visible,bodyStyle:{paddingBottom:80}},/*#__PURE__*/React.createElement(Form,{layout:\"vertical\",hideRequiredMark:true,onFinish:this.update},/*#__PURE__*/React.createElement(Row,{gutter:16},/*#__PURE__*/React.createElement(Col,{span:12},/*#__PURE__*/React.createElement(Form.Item,{name:\"first_name\",label:\"First Name\",rules:[{required:false,message:'Please enter company name'}]},/*#__PURE__*/React.createElement(Input,{placeholder:\"Please enter user name\",defaultValue:this.state.fistName}))),/*#__PURE__*/React.createElement(Col,{span:12},/*#__PURE__*/React.createElement(Form.Item,{name:\"address\",label:\"Address\",rules:[{required:false,message:'Please enter your address'}]},/*#__PURE__*/React.createElement(Input,{placeholder:\"Please enter your address\",defaultValue:this.state.address})))),/*#__PURE__*/React.createElement(Row,{gutter:16},/*#__PURE__*/React.createElement(Col,{span:12},/*#__PURE__*/React.createElement(Form.Item,{name:\"phone\",label:\"Phone Number\",rules:[{required:false,message:'Please input your phone number!'}]},/*#__PURE__*/React.createElement(Input,{addonBefore:prefixSelector,style:{width:'100%'},defaultValue:this.state.phone}))),/*#__PURE__*/React.createElement(Col,{span:12},/*#__PURE__*/React.createElement(Form.Item,{name:\"Institution\",label:\"Institution\",rules:[{required:false,message:'Please enter your Institution'}]},/*#__PURE__*/React.createElement(Input,{placeholder:\"Please enter user Institution\",defaultValue:this.state.institution})))),/*#__PURE__*/React.createElement(Row,{gutter:16},/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(Form.Item,{name:\"description\",label:\"Description\",rules:[{required:false,message:'please introduce yourself'}]},/*#__PURE__*/React.createElement(Input.TextArea,{rows:4,placeholder:\"please enter the description\"})))),/*#__PURE__*/React.createElement(Row,{gutter:16},/*#__PURE__*/React.createElement(Form.Item,null,/*#__PURE__*/React.createElement(Button,{type:\"primary\",htmlType:\"submit\"},\"Submit\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"profile-clear\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"profile-body\"},/*#__PURE__*/React.createElement(Divider,null),/*#__PURE__*/React.createElement(\"div\",{className:\"project-preference\"},/*#__PURE__*/React.createElement(\"div\",{className:\"preference-header\"},\"DESCRIPTION\"),/*#__PURE__*/React.createElement(\"div\",{className:\"project-item\"},/*#__PURE__*/React.createElement(\"span\",{className:\"description\"},\" Microsoft Corporation (/ma\\u026Akro\\u028A.s\\u0252ft/) is an American multinational technology company with headquarters in Redmond, Washington. It develops, manufactures, licenses, supports, and sells computer software, consumer electronics, personal computers, and related services. Its best known software products are the Microsoft Windows line of operating systems, the Microsoft Office suite, and the Internet Explorer and Edge web browsers. Its flagship hardware products are the Xbox video game consoles and the Microsoft Surface lineup of touchscreen personal computers. In 2016, it was the world's largest software maker by revenue (currently Alphabet/Google has more revenue).[3] The word \\\"Microsoft\\\" is a portmanteau of \\\"microcomputer\\\" and \\\"software\\\".[4] Microsoft is ranked No. 30 in the 2018 Fortune 500 rankings of the largest United States corporations by total revenue.[5] It is considered one of the Big Five technology companies alongside Amazon, Apple, Google, and Facebook.\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"profile-clear\"}))));}}]);return CompanyProfileManagerComponent;}(Component);export default CompanyProfileManagerComponent;","map":{"version":3,"sources":["/Users/luxx/Desktop/frontend-projectsharing/src/component/comapny/CompanyProfileManagerComponent.js"],"names":["React","Component","Col","Drawer","Form","Input","message","Row","Select","MailOutlined","WhatsAppOutlined","EditOutlined","Button","Divider","CompanyService","AuthenticationService","Upload","Avatar","UserOutlined","Option","CompanyProfileManagerComponent","props","showDrawer","setState","visible","onClose","refresh","getCompanyInfo","then","response","companyName","data","companyInfo","firstName","icon","iconUrl","id","phone","email","institution","address","update","values","updateStudentProfile","success","catch","error","state","bind","console","log","prefixSelector","width","token","authHeader","header","Authorization","uploadIcon","name","listType","className","showUploadList","headers","action","onChange","info","file","status","fileList","paddingBottom","required","fistName"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport {Col, Drawer, Form, Input, message, Row, Select} from \"antd\";\nimport MailOutlined from \"@ant-design/icons/lib/icons/MailOutlined\";\nimport WhatsAppOutlined from \"@ant-design/icons/lib/icons/WhatsAppOutlined\";\nimport EditOutlined from \"@ant-design/icons/lib/icons/EditOutlined\";\nimport Button from \"antd/es/button\";\nimport Divider from \"antd/es/divider\";\nimport CompanyService from \"../service/CompanyService\";\nimport AuthenticationService from \"../service/AuthenticationService\";\nimport Upload from \"antd/es/upload\";\nimport Avatar from \"antd/es/avatar\";\nimport UserOutlined from \"@ant-design/icons/lib/icons/UserOutlined\";\n\nconst { Option } = Select;\n\nclass CompanyProfileManagerComponent extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            visible: false,\n            icon: '',\n            companyName: '',\n            email: '',\n            phone: '',\n            id: '',\n            institution: '',\n            address: '',\n        };\n        this.showDrawer = this.showDrawer.bind(this);\n        this.onClose = this.onClose.bind(this);\n    }\n\n    showDrawer = () => {\n        this.setState({\n            visible: true,\n        });\n    };\n\n    onClose = () => {\n        this.setState({\n            visible: false,\n        });\n    };\n\n    refresh = () => {\n        CompanyService.getCompanyInfo().then(response => {\n            this.setState({\n                companyName: response.data.companyInfo.firstName,\n                icon: response.data.companyInfo.iconUrl,\n                id : response.data.companyInfo.id,\n                phone: response.data.phone,\n                email: response.data.email,\n                institution: response.data.companyInfo.institution,\n                address:response.data.companyInfo.address,\n            })\n        })\n    }\n\n    componentDidMount() {\n        this.refresh();\n\n    }\n    update = (values) => {\n        CompanyService.updateStudentProfile(values).then(response=>{\n            message.success(\"update successfully \");\n            this.setState({\n                visible: false\n            })\n            this.refresh();\n        }).catch( error =>\n            message.error(\"upload failed\")\n        )\n    }\n\n    render() {\n        console.log(this.state)\n        const prefixSelector = (\n            <Form.Item name=\"prefix\" noStyle>\n                <Select style={{ width: 70 }}>\n                    <Option value=\"1\">+1</Option>\n                    <Option value=\"86\">+86</Option>\n                </Select>\n            </Form.Item>\n        );\n        const token = AuthenticationService.authHeader();\n        const header =  {\n            Authorization: token,\n            'Access-Control-Allow-Origin' : '*',\n            'Access-Control-Allow-Methods' : 'GET,PUT,POST,DELETE,PATCH',\n        }\n        const refresh = this.refresh;\n        const uploadIcon = {\n            name: \"icon\",\n            listType: \"picture\",\n            className: \"avatar-uploader\",\n            showUploadList: false,\n            headers: header,\n            action: 'http://168.61.221.213:8080/enterprises/info/icon',\n            onChange(info) {\n                if (info.file.status !== 'uploading') {\n                    console.log(info.file, info.fileList);\n                }\n                if (info.file.status === 'done') {\n                    message.success(`${info.file.name} file uploaded successfully`);\n                    refresh();\n                } else if (info.file.status === 'error') {\n                    message.error(`${info.file.name} file upload failed.`);\n                }\n            },\n        };\n\n        return (\n            <div className=\"ant-card-bordered student-profile-container\">\n                <div className=\"profile-detail-head\">\n                    <div className=\"profile-detail-head-wrapper\" >\n                        <div className=\"profile-detail-head-title\">\n                            <div className=\"avatar\">\n                                <Upload\n                                    {...uploadIcon}\n                                >\n                                    {this.state.icon?(\n                                        <Avatar src={this.state.icon} className=\"project-img\" size={100}\n                                                shape=\"square\"/>\n                                    ):(\n                                        <Avatar icon={<UserOutlined/>}className=\"project-img\" size={100}\n                                                shape=\"square\"/>\n                                    )}\n                                </Upload>\n                            </div>\n                            <div className=\"profile-title-right\">\n                                <div className=\"div-context\">{this.state.companyName ? (\n                                    <h2>{this.state.companyName} </h2>\n                                    ): (\n                                    <h2>please input your name</h2>\n                                    )}</div>\n                                <div className=\"div-context email-div\"><span className=\"email-phone\"><MailOutlined /> &nbsp; {this.state.email} &nbsp;\n                                    <WhatsAppOutlined /> {this.state.phone? (this.state.phone):(<>no phone num</>)}\n                                    </span></div>\n                                <div className=\"div-context\"><a href=\"#\" className=\"edit-font\" onClick={this.showDrawer}><EditOutlined /> &nbsp; edit your profile</a></div>\n\n                            </div>\n                        </div>\n                        <div className=\"profile-edit\">\n                            <Button type=\"primary\" shape=\"round\" size=\"large\" onClick={this.showDrawer}>\n                                Edit\n                            </Button>\n                            <Drawer\n                                title=\"Update your profile\"\n                                width={720}\n                                onClose={this.onClose}\n                                visible={this.state.visible}\n                                bodyStyle={{ paddingBottom: 80 }}\n\n                            >\n                                <Form\n                                    layout=\"vertical\"\n                                    hideRequiredMark\n                                    onFinish={this.update}\n                                >\n                                    <Row gutter={16}>\n                                        <Col span={12}>\n                                            <Form.Item\n                                                name=\"first_name\"\n                                                label=\"First Name\"\n                                                rules={[\n                                                    { required: false, message: 'Please enter company name' }\n                                                ]}\n                                            >\n                                                <Input placeholder=\"Please enter user name\" defaultValue={this.state.fistName}/>\n                                            </Form.Item>\n                                        </Col>\n                                        <Col span={12}>\n                                            <Form.Item\n                                                name=\"address\"\n                                                label=\"Address\"\n                                                rules={[\n                                                    { required: false, message: 'Please enter your address' }\n                                                ]}\n                                            >\n                                                <Input placeholder=\"Please enter your address\" defaultValue={this.state.address}/>\n                                            </Form.Item>\n                                        </Col>\n\n                                    </Row>\n                                    <Row gutter={16}>\n                                        <Col span={12}>\n                                            <Form.Item\n                                                name=\"phone\"\n                                                label=\"Phone Number\"\n                                                rules={[{ required: false, message: 'Please input your phone number!' }]}\n                                            >\n                                                <Input addonBefore={prefixSelector} style={{ width: '100%' }} defaultValue={this.state.phone}/>\n                                            </Form.Item>\n                                        </Col>\n                                        <Col span={12}>\n                                            <Form.Item\n                                                name=\"Institution\"\n                                                label=\"Institution\"\n                                                rules={[{ required: false, message: 'Please enter your Institution' }]}\n                                            >\n                                                <Input placeholder=\"Please enter user Institution\" defaultValue={this.state.institution}/>\n                                            </Form.Item>\n                                        </Col>\n                                    </Row>\n                                    <Row gutter={16}>\n                                        <Col span={24}>\n                                            <Form.Item\n                                                name=\"description\"\n                                                label=\"Description\"\n                                                rules={[\n                                                    {\n                                                        required: false,\n                                                        message: 'please introduce yourself',\n                                                    },\n                                                ]}\n                                            >\n                                                <Input.TextArea rows={4} placeholder=\"please enter the description\" />\n                                            </Form.Item>\n                                        </Col>\n                                    </Row>\n                                    <Row gutter={16}>\n                                        <Form.Item >\n                                            <Button type=\"primary\" htmlType=\"submit\">\n                                                Submit\n                                            </Button>\n                                        </Form.Item>\n                                    </Row>\n                                </Form>\n                            </Drawer>\n                        </div>\n                        <div className=\"profile-clear\"></div>\n                        <div className=\"profile-body\">\n                            <Divider />\n                            <div className=\"project-preference\">\n                                <div className=\"preference-header\">\n                                    DESCRIPTION\n                                </div>\n                                <div className=\"project-item\">\n                                   <span className=\"description\"> Microsoft Corporation (/maɪkroʊ.sɒft/) is an American multinational technology company with headquarters in Redmond, Washington. It develops, manufactures, licenses, supports, and sells computer software, consumer electronics, personal computers, and related services. Its best known software products are the Microsoft Windows line of operating systems, the Microsoft Office suite, and the Internet Explorer and Edge web browsers. Its flagship hardware products are the Xbox video game consoles and the Microsoft Surface lineup of touchscreen personal computers. In 2016, it was the world's largest software maker by revenue (currently Alphabet/Google has more revenue).[3] The word \"Microsoft\" is a portmanteau of \"microcomputer\" and \"software\".[4] Microsoft is ranked No. 30 in the 2018 Fortune 500 rankings of the largest United States corporations by total revenue.[5] It is considered one of the Big Five technology companies alongside Amazon, Apple, Google, and Facebook.\n                                    </span>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"profile-clear\"></div>\n\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default CompanyProfileManagerComponent;"]},"metadata":{},"sourceType":"module"}