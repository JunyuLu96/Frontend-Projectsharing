{"ast":null,"code":"var _jsxFileName = \"/Users/luxx/Desktop/frontend-projectsharing/src/component/StudentPage.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport Switch from \"react-router-dom/es/Switch\";\nimport Route from \"react-router-dom/es/Route\";\nimport ListProjectComponent from \"./ListProjectComponent\";\nimport TopNavBar from \"./TopNavBar\";\nimport AuthenticationService from \"./AuthenticationService\";\nimport jwt_decode from \"jwt-decode\";\nimport { withRouter } from 'react-router-dom';\nimport StudentService from \"./StudentService\";\n\nclass StudentPage extends Component {\n  constructor(props) {\n    super(props);\n    const user = AuthenticationService.getCurrentUser();\n\n    if (user) {\n      const decode = jwt_decode(user.token);\n      const role = decode.role;\n\n      if (role === \"company\") {\n        props.history.push(\"/company\");\n      }\n    } else {\n      props.history.push(\"/login\");\n    }\n\n    this.state = {\n      projectList: []\n    };\n  }\n\n  componentDidMount() {\n    StudentService.getStudentProjects().then(response => {\n      this.setState({\n        projectList: response.data\n      });\n      console.log(this.state.projectList);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TopNavBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }\n    }), \"This is a student page\", /*#__PURE__*/React.createElement(ListProjectComponent, {\n      rojectList: this.state.projectList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nexport default withRouter(StudentPage);","map":{"version":3,"sources":["/Users/luxx/Desktop/frontend-projectsharing/src/component/StudentPage.js"],"names":["React","Component","BrowserRouter","Router","Switch","Route","ListProjectComponent","TopNavBar","AuthenticationService","jwt_decode","withRouter","StudentService","StudentPage","constructor","props","user","getCurrentUser","decode","token","role","history","push","state","projectList","componentDidMount","getStudentProjects","then","response","setState","data","console","log","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,aAAa,IAAIC,MAA1B,QAAwC,kBAAxC;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,KAAP,MAAkB,2BAAlB;AACA,OAAOC,oBAAP,MAAiC,wBAAjC;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,qBAAP,MAAkC,yBAAlC;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;;AAEA,MAAMC,WAAN,SAA0BX,SAA1B,CAAmC;AAC/BY,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,UAAMC,IAAI,GAAGP,qBAAqB,CAACQ,cAAtB,EAAb;;AAEA,QAAID,IAAJ,EAAU;AACN,YAAME,MAAM,GAAGR,UAAU,CAACM,IAAI,CAACG,KAAN,CAAzB;AACA,YAAMC,IAAI,GAAGF,MAAM,CAACE,IAApB;;AACA,UAAIA,IAAI,KAAK,SAAb,EAAwB;AACpBL,QAAAA,KAAK,CAACM,OAAN,CAAcC,IAAd,CAAmB,UAAnB;AACH;AACJ,KAND,MAMO;AACHP,MAAAA,KAAK,CAACM,OAAN,CAAcC,IAAd,CAAmB,QAAnB;AACH;;AAED,SAAKC,KAAL,GAAa;AACTC,MAAAA,WAAW,EAAG;AADL,KAAb;AAGH;;AACDC,EAAAA,iBAAiB,GAAG;AAChBb,IAAAA,cAAc,CAACc,kBAAf,GAAoCC,IAApC,CAAyCC,QAAQ,IAAI;AACjD,WAAKC,QAAL,CAAc;AACVL,QAAAA,WAAW,EAAEI,QAAQ,CAACE;AADZ,OAAd;AAGAC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKT,KAAL,CAAWC,WAAvB;AACH,KALD;AAMH;;AAEDS,EAAAA,MAAM,GAAG;AACL,wBACI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,yCAGI,oBAAC,oBAAD;AAAsB,MAAA,UAAU,EAAE,KAAKV,KAAL,CAAWC,WAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,CADJ;AAYH;;AAzC8B;;AA4CnC,eAAeb,UAAU,CAACE,WAAD,CAAzB","sourcesContent":["import React, { Component } from 'react';\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport Switch from \"react-router-dom/es/Switch\";\nimport Route from \"react-router-dom/es/Route\";\nimport ListProjectComponent from \"./ListProjectComponent\";\nimport TopNavBar from \"./TopNavBar\";\nimport AuthenticationService from \"./AuthenticationService\";\nimport jwt_decode from \"jwt-decode\";\nimport {withRouter} from 'react-router-dom';\nimport StudentService from \"./StudentService\";\n\nclass StudentPage extends Component{\n    constructor(props) {\n        super(props);\n        const user = AuthenticationService.getCurrentUser();\n\n        if (user) {\n            const decode = jwt_decode(user.token)\n            const role = decode.role\n            if (role === \"company\") {\n                props.history.push(\"/company\")\n            }\n        } else {\n            props.history.push(\"/login\")\n        }\n\n        this.state = {\n            projectList : []\n        }\n    }\n    componentDidMount() {\n        StudentService.getStudentProjects().then(response => {\n            this.setState({\n                projectList: response.data\n            });\n            console.log(this.state.projectList)\n        })\n    }\n\n    render() {\n        return (\n            <div className=\"App\">\n                <TopNavBar />\n                This is a student page\n                <ListProjectComponent rojectList={this.state.projectList}/>\n                {/*<Router>*/}\n                {/*    <Switch>*/}\n                {/*        <Route path=\"/student\" exact component={ListProjectComponent} projectList={this.state.projectList}/>*/}\n                {/*    </Switch>*/}\n                {/*</Router>*/}\n            </div>\n        )\n    }\n}\n\nexport default withRouter(StudentPage);\n"]},"metadata":{},"sourceType":"module"}