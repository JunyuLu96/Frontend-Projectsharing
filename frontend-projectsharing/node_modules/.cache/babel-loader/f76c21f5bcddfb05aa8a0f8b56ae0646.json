{"ast":null,"code":"import _classCallCheck from\"/Users/luxx/Desktop/frontend-projectsharing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/luxx/Desktop/frontend-projectsharing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/luxx/Desktop/frontend-projectsharing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/luxx/Desktop/frontend-projectsharing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/luxx/Desktop/frontend-projectsharing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import AuthenticationService from\"../service/AuthenticationService\";import jwt_decode from\"jwt-decode\";import{withRouter}from'react-router-dom';import Route from\"react-router-dom/es/Route\";import StudentProfileManagerComponent from\"./StudentProfileManagerComponent\";import StudentRatingComponent from\"./StudentRatingComponent\";import TopNavBar from\"../TopNavBar\";import StudentProjectList from\"./StudentProjectList\";var StudentPage=/*#__PURE__*/function(_Component){_inherits(StudentPage,_Component);var _super=_createSuper(StudentPage);function StudentPage(props){var _this;_classCallCheck(this,StudentPage);_this=_super.call(this,props);var user=AuthenticationService.getCurrentUser();if(user){var decode=jwt_decode(user.token);var role=decode.role;_this.state={role:role};if(role===\"company\"){props.history.push(\"/company\");}}else{props.history.push(\"/login\");}_this.router=_this.router.bind(_assertThisInitialized(_this));return _this;}_createClass(StudentPage,[{key:\"router\",value:function router(url){this.props.history.push(url);console.log(this.props.history);}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"App\",role:this.state.role},/*#__PURE__*/React.createElement(TopNavBar,{router:this.router}),/*#__PURE__*/React.createElement(Route,{path:\"/student\",exact:true,component:StudentProfileManagerComponent}),/*#__PURE__*/React.createElement(Route,{path:\"/student/profile\",exact:true,component:StudentProfileManagerComponent}),/*#__PURE__*/React.createElement(Route,{path:\"/student/projects\",exact:true,component:StudentProjectList}),/*#__PURE__*/React.createElement(Route,{path:\"/student/rating\",exact:true,component:StudentRatingComponent}));}}]);return StudentPage;}(Component);export default withRouter(StudentPage);","map":{"version":3,"sources":["/Users/luxx/Desktop/frontend-projectsharing/src/component/student/StudentPage.js"],"names":["React","Component","AuthenticationService","jwt_decode","withRouter","Route","StudentProfileManagerComponent","StudentRatingComponent","TopNavBar","StudentProjectList","StudentPage","props","user","getCurrentUser","decode","token","role","state","history","push","router","bind","url","console","log"],"mappings":"0yBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,qBAAP,KAAkC,kCAAlC,CACA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,CACA,OAASC,UAAT,KAA0B,kBAA1B,CACA,MAAOC,CAAAA,KAAP,KAAkB,2BAAlB,CACA,MAAOC,CAAAA,8BAAP,KAA2C,kCAA3C,CACA,MAAOC,CAAAA,sBAAP,KAAmC,0BAAnC,CACA,MAAOC,CAAAA,SAAP,KAAsB,cAAtB,CACA,MAAOC,CAAAA,kBAAP,KAA+B,sBAA/B,C,GAEMC,CAAAA,W,0GACF,qBAAYC,KAAZ,CAAmB,6CACf,uBAAMA,KAAN,EACA,GAAMC,CAAAA,IAAI,CAAGV,qBAAqB,CAACW,cAAtB,EAAb,CAEA,GAAID,IAAJ,CAAU,CACN,GAAME,CAAAA,MAAM,CAAGX,UAAU,CAACS,IAAI,CAACG,KAAN,CAAzB,CACA,GAAMC,CAAAA,IAAI,CAAGF,MAAM,CAACE,IAApB,CACA,MAAKC,KAAL,CAAa,CACTD,IAAI,CAAEA,IADG,CAAb,CAGA,GAAIA,IAAI,GAAK,SAAb,CAAwB,CACpBL,KAAK,CAACO,OAAN,CAAcC,IAAd,CAAmB,UAAnB,EACH,CACJ,CATD,IASO,CACHR,KAAK,CAACO,OAAN,CAAcC,IAAd,CAAmB,QAAnB,EACH,CACD,MAAKC,MAAL,CAAc,MAAKA,MAAL,CAAYC,IAAZ,+BAAd,CAhBe,aAkBlB,C,8DAEMC,G,CAAK,CACR,KAAKX,KAAL,CAAWO,OAAX,CAAmBC,IAAnB,CAAwBG,GAAxB,EACAC,OAAO,CAACC,GAAR,CAAY,KAAKb,KAAL,CAAWO,OAAvB,EACH,C,uCAEQ,CAEL,mBACI,2BAAK,SAAS,CAAC,KAAf,CAAqB,IAAI,CAAE,KAAKD,KAAL,CAAWD,IAAtC,eACI,oBAAC,SAAD,EAAW,MAAM,CAAE,KAAKI,MAAxB,EADJ,cAEI,oBAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,CAAwB,KAAK,KAA7B,CAA8B,SAAS,CAAEd,8BAAzC,EAFJ,cAGI,oBAAC,KAAD,EAAO,IAAI,CAAC,kBAAZ,CAAgC,KAAK,KAArC,CAAsC,SAAS,CAAEA,8BAAjD,EAHJ,cAII,oBAAC,KAAD,EAAO,IAAI,CAAC,mBAAZ,CAAgC,KAAK,KAArC,CAAsC,SAAS,CAAEG,kBAAjD,EAJJ,cAKI,oBAAC,KAAD,EAAO,IAAI,CAAC,iBAAZ,CAA8B,KAAK,KAAnC,CAAoC,SAAS,CAAEF,sBAA/C,EALJ,CADJ,CASH,C,yBArCqBN,S,EAwC1B,cAAeG,CAAAA,UAAU,CAACM,WAAD,CAAzB","sourcesContent":["import React, { Component } from 'react';\nimport AuthenticationService from \"../service/AuthenticationService\";\nimport jwt_decode from \"jwt-decode\";\nimport { withRouter} from 'react-router-dom';\nimport Route from \"react-router-dom/es/Route\";\nimport StudentProfileManagerComponent from \"./StudentProfileManagerComponent\";\nimport StudentRatingComponent from \"./StudentRatingComponent\";\nimport TopNavBar from \"../TopNavBar\";\nimport StudentProjectList from \"./StudentProjectList\";\n\nclass StudentPage extends Component{\n    constructor(props) {\n        super(props);\n        const user = AuthenticationService.getCurrentUser();\n\n        if (user) {\n            const decode = jwt_decode(user.token)\n            const role = decode.role\n            this.state = {\n                role: role,\n            };\n            if (role === \"company\") {\n                props.history.push(\"/company\")\n            }\n        } else {\n            props.history.push(\"/login\")\n        }\n        this.router = this.router.bind(this)\n\n    }\n\n    router(url) {\n        this.props.history.push(url)\n        console.log(this.props.history)\n    }\n\n    render() {\n\n        return (\n            <div className=\"App\" role={this.state.role}>\n                <TopNavBar router={this.router}/>\n                <Route path=\"/student\"  exact component={StudentProfileManagerComponent} />\n                <Route path=\"/student/profile\"  exact component={StudentProfileManagerComponent} />\n                <Route path=\"/student/projects\" exact component={StudentProjectList} />\n                <Route path=\"/student/rating\" exact component={StudentRatingComponent} />\n            </div>\n        )\n    }\n}\n\nexport default withRouter(StudentPage);\n"]},"metadata":{},"sourceType":"module"}