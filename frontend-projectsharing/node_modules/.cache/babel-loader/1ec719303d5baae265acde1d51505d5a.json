{"ast":null,"code":"import _classCallCheck from\"/Users/luxx/Desktop/frontend-projectsharing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/luxx/Desktop/frontend-projectsharing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/luxx/Desktop/frontend-projectsharing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/luxx/Desktop/frontend-projectsharing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/luxx/Desktop/frontend-projectsharing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import logo from\"../assets/images/logo.png\";import{Link}from\"react-router-dom\";import{UserOutlined}from'@ant-design/icons';import AuthenticationService from\"./service/AuthenticationService\";import jwt_decode from'jwt-decode';import LogoutOutlined from\"@ant-design/icons/lib/icons/LogoutOutlined\";import LoginOutlined from\"@ant-design/icons/lib/icons/LoginOutlined\";import GithubOutlined from\"@ant-design/icons/lib/icons/GithubOutlined\";import{Menu}from\"antd\";import Dropdown from\"antd/es/dropdown\";import{withRouter}from'react-router-dom';var TopNavBar=/*#__PURE__*/function(_Component){_inherits(TopNavBar,_Component);var _super=_createSuper(TopNavBar);function TopNavBar(props){var _this;_classCallCheck(this,TopNavBar);_this=_super.call(this,props);_this.handleClick=function(e){_this.props.history.push('/');};_this.jumpToProfile=function(e){console.log(123);if(_this.state.decode.role==='student'){_this.props.history.push('/student/profile');}else{_this.props.history.push('/company/profile');}};_this.jumpToProject=function(e){if(_this.state.decode.role==='student'){_this.props.history.push('/student/projects');}else{_this.props.history.push('/company/projects');}};_this.jumpToRating=function(e){if(_this.state.decode.role==='student'){_this.props.history.push('/student/rating');}else{_this.props.history.push('/company/recommendation');}};_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));_this.logout=_this.logout.bind(_assertThisInitialized(_this));_this.state={currentUser:undefined,decode:undefined,role:\"student\"};console.log(_this.props.role);return _this;}_createClass(TopNavBar,[{key:\"componentDidMount\",value:function componentDidMount(){var user=AuthenticationService.getCurrentUser();if(user){var decode=jwt_decode(user.token);console.log(decode);this.setState({currentUser:user,decode:decode,current:\"profile\",role:decode.role});this.jumpToProfile=this.jumpToProfile.bind(this);this.jumpToProject=this.jumpToProject.bind(this);this.jumpToRating=this.jumpToRating.bind(this);}}},{key:\"logout\",value:function logout(){AuthenticationService.logout();}},{key:\"render\",value:function render(){var currentUser=this.state.currentUser;var menu;var role=this.state.role;if(role==='student'){menu=/*#__PURE__*/React.createElement(Menu,null,/*#__PURE__*/React.createElement(Menu.Item,null,/*#__PURE__*/React.createElement(Link,{onClick:this.jumpToProfile},\"My Profile\")),/*#__PURE__*/React.createElement(Menu.Item,null,/*#__PURE__*/React.createElement(\"a\",{onClick:this.jumpToProject},\"Project List\")),/*#__PURE__*/React.createElement(Menu.Item,null,/*#__PURE__*/React.createElement(\"a\",{onClick:this.jumpToRating},\"Rating Company\")));}else{menu=/*#__PURE__*/React.createElement(Menu,null,/*#__PURE__*/React.createElement(Menu.Item,null,/*#__PURE__*/React.createElement(Link,{onClick:this.jumpToProfile},\"My Profile\")),/*#__PURE__*/React.createElement(Menu.Item,null,/*#__PURE__*/React.createElement(\"a\",{onClick:this.jumpToProject},\"Project List\")));}return/*#__PURE__*/React.createElement(\"div\",{className:\"App-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"left\"},/*#__PURE__*/React.createElement(Link,{to:\"/\"},/*#__PURE__*/React.createElement(\"img\",{src:logo,className:\"App-logo\",alt:\"logo\"}),\" \")),currentUser?/*#__PURE__*/React.createElement(\"div\",{className:\"right\"},/*#__PURE__*/React.createElement(UserOutlined,{style:{fontSize:'20px',color:'#08c',marginRight:'10px'}}),/*#__PURE__*/React.createElement(Dropdown,{overlay:menu},/*#__PURE__*/React.createElement(Link,null,this.state.decode.sub)),/*#__PURE__*/React.createElement(\"a\",{href:\"/\",onClick:this.logout},/*#__PURE__*/React.createElement(LogoutOutlined,{style:{fontSize:'18px',color:'#08c',marginRight:'10px',marginLeft:'20px'}}),\" \",/*#__PURE__*/React.createElement(\"span\",null,\"LogOut\"))):/*#__PURE__*/React.createElement(\"div\",{className:\"right\"},/*#__PURE__*/React.createElement(Link,{to:\"/login\"},/*#__PURE__*/React.createElement(LoginOutlined,{style:{fontSize:'20px',color:'#08c',marginRight:'10px'}}),/*#__PURE__*/React.createElement(\"span\",null,\"Sign in\")),/*#__PURE__*/React.createElement(Link,{to:\"/registration\"},/*#__PURE__*/React.createElement(GithubOutlined,{style:{fontSize:'20px',color:'#08c',marginLeft:'20px',marginRight:'10px'}}),/*#__PURE__*/React.createElement(\"span\",null,\"Sign up\"))));}}]);return TopNavBar;}(Component);export default withRouter(TopNavBar);","map":{"version":3,"sources":["/Users/luxx/Desktop/frontend-projectsharing/src/component/TopNavBar.js"],"names":["React","Component","logo","Link","UserOutlined","AuthenticationService","jwt_decode","LogoutOutlined","LoginOutlined","GithubOutlined","Menu","Dropdown","withRouter","TopNavBar","props","handleClick","e","history","push","jumpToProfile","console","log","state","decode","role","jumpToProject","jumpToRating","bind","logout","currentUser","undefined","user","getCurrentUser","token","setState","current","menu","fontSize","color","marginRight","sub","marginLeft"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport logo from \"../assets/images/logo.png\";\nimport {Link} from \"react-router-dom\";\nimport { UserOutlined } from '@ant-design/icons';\nimport AuthenticationService from \"./service/AuthenticationService\";\nimport jwt_decode from 'jwt-decode'\nimport LogoutOutlined from \"@ant-design/icons/lib/icons/LogoutOutlined\";\nimport LoginOutlined from \"@ant-design/icons/lib/icons/LoginOutlined\";\nimport GithubOutlined from \"@ant-design/icons/lib/icons/GithubOutlined\";\nimport {Menu} from \"antd\";\nimport Dropdown from \"antd/es/dropdown\";\nimport {withRouter} from 'react-router-dom';\nclass TopNavBar extends Component {\n\n    constructor(props) {\n        super(props);\n        this.handleClick = this.handleClick.bind(this);\n        this.logout = this.logout.bind(this);\n        this.state = {\n            currentUser: undefined,\n            decode: undefined,\n            role: \"student\",\n        };\n        console.log(this.props.role)\n    }\n\n    componentDidMount() {\n        const user = AuthenticationService.getCurrentUser();\n\n        if (user) {\n            const decode = jwt_decode(user.token)\n            console.log(decode)\n            this.setState({\n                currentUser: user,\n                decode: decode,\n                current: \"profile\",\n                role:  decode.role,\n            });\n            this.jumpToProfile = this.jumpToProfile.bind(this);\n            this.jumpToProject = this.jumpToProject.bind(this);\n            this.jumpToRating = this.jumpToRating.bind(this);\n        }\n\n    }\n\n    handleClick = e => {\n        this.props.history.push('/')\n    };\n\n    logout() {\n        AuthenticationService.logout();\n    }\n\n    jumpToProfile = e => {\n        console.log(123)\n        if (this.state.decode.role === 'student') {\n            this.props.history.push('/student/profile')\n\n        } else {\n            this.props.history.push('/company/profile')\n        }\n    };\n\n    jumpToProject = e => {\n        if (this.state.decode.role === 'student') {\n            this.props.history.push('/student/projects')\n        } else {\n            this.props.history.push('/company/projects')\n        }\n    };\n\n    jumpToRating = e => {\n        if (this.state.decode.role === 'student') {\n            this.props.history.push('/student/rating')\n        } else {\n            this.props.history.push('/company/recommendation')\n        }\n\n    };\n\n\n    render() {\n        const {currentUser} = this.state;\n        let menu;\n        const role = this.state.role\n        if (role === 'student') {\n             menu = (\n                <Menu>\n                    <Menu.Item>\n                        <Link onClick={this.jumpToProfile}>\n                            My Profile\n                        </Link>\n                    </Menu.Item>\n                    <Menu.Item>\n                        <a onClick={this.jumpToProject}>\n                            Project List\n                        </a>\n                    </Menu.Item>\n                    <Menu.Item>\n                        <a onClick={this.jumpToRating}>\n                            Rating Company\n                        </a>\n                    </Menu.Item>\n                </Menu>\n            );\n        } else {\n             menu = (\n                <Menu>\n                    <Menu.Item>\n                        <Link onClick={this.jumpToProfile}>\n                            My Profile\n                        </Link>\n                    </Menu.Item>\n                    <Menu.Item>\n                        <a onClick={this.jumpToProject}>\n                            Project List\n                        </a>\n                    </Menu.Item>\n                </Menu>\n            );\n        }\n\n\n        return (\n\n            <div className=\"App-header\">\n                <div className=\"left\">\n                    <Link to=\"/\" ><img src={logo} className=\"App-logo\" alt=\"logo\"/> </Link>\n                </div>\n\n                {currentUser ? (\n                    <div className=\"right\">\n                        <UserOutlined style={{ fontSize: '20px', color: '#08c', marginRight:'10px'}} />\n                        <Dropdown overlay={menu}>\n                            <Link>\n                                {this.state.decode.sub}\n                            </Link>\n                        </Dropdown>\n\n                        <a href=\"/\" onClick={this.logout}>\n                            <LogoutOutlined style={{ fontSize: '18px', color: '#08c', marginRight:'10px', marginLeft:'20px'}}/> <span >LogOut</span></a>\n                    </div>\n                ) : (\n                    <div className=\"right\">\n                        <Link to=\"/login\" >\n                            <LoginOutlined style={{ fontSize: '20px', color: '#08c', marginRight:'10px'}} />\n                            <span>Sign in</span>\n                        </Link>\n                        <Link to=\"/registration\">\n                            <GithubOutlined style={{ fontSize: '20px', color: '#08c', marginLeft:'20px', marginRight:'10px'}}/>\n                            <span>Sign up</span>\n                        </Link>\n                    </div>\n                )}\n\n            </div>\n        );\n    }\n}\n\nexport default withRouter(TopNavBar);"]},"metadata":{},"sourceType":"module"}