{"ast":null,"code":"import _classCallCheck from\"/Users/luxx/Desktop/frontend-projectsharing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/luxx/Desktop/frontend-projectsharing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/luxx/Desktop/frontend-projectsharing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/luxx/Desktop/frontend-projectsharing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/luxx/Desktop/frontend-projectsharing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{message,Rate}from\"antd\";import Button from\"antd/es/button\";import{floor}from\"lodash\";import StudentService from\"../service/StudentService\";import Avatar from\"antd/es/avatar\";import UserOutlined from\"@ant-design/icons/lib/icons/UserOutlined\";import Upload from\"antd/es/upload\";import ContainerOutlined from\"@ant-design/icons/lib/icons/ContainerOutlined\";var StudentRateItem=/*#__PURE__*/function(_Component){_inherits(StudentRateItem,_Component);var _super=_createSuper(StudentRateItem);function StudentRateItem(props){var _this;_classCallCheck(this,StudentRateItem);_this=_super.call(this,props);_this.handleChange=function(value){_this.setState({value:value});console.log(value);};_this.rateCompany=function(){var id=_this.state.companyID;var value=_this.state.value;StudentService.rateCompany(id,value).then(function(response){message.success(\"rating successfully\");_this.setState({canRate:false});}).catch(function(error){message.error(\"rating failed\");});};_this.state={value:0,companyID:_this.props.project.companyID,canRate:true};_this.rateCompany=_this.rateCompany.bind(_assertThisInitialized(_this));return _this;}_createClass(StudentRateItem,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;StudentService.isRateCompany(this.state.companyID).then(function(response){if(response.data){_this2.setState({value:response.data.star,canRate:false});}});}},{key:\"render\",value:function render(){var project=this.props.project;console.log(project);var value=this.state.value;var desc=['terrible','bad','normal','good','wonderful'];var rate=null;var canRate=this.state.canRate;if(canRate){rate=/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Rate,{tooltips:desc,onChange:this.handleChange,value:value}),value?/*#__PURE__*/React.createElement(\"span\",{className:\"ant-rate-text\"},desc[floor(value-0.1)]):'',\" \");}else{rate=/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Rate,{tooltips:desc,value:value,disabled:true}),value?/*#__PURE__*/React.createElement(\"span\",{className:\"ant-rate-text\"},desc[floor(value-0.1)]):'',\" \");}return/*#__PURE__*/React.createElement(\"div\",{className:\"ant-card-bordered student-detail-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"project-detail\"},/*#__PURE__*/React.createElement(\"div\",{className:\"project-detail-head\"},/*#__PURE__*/React.createElement(\"div\",{className:\"project-detail-head-wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"project-detail-head-title\"},project.avatar?/*#__PURE__*/React.createElement(Avatar,{src:project.avatar,className:\"project-img\",size:100,shape:\"square\"}):/*#__PURE__*/React.createElement(Avatar,{icon:/*#__PURE__*/React.createElement(UserOutlined,null),className:\"project-img\",size:100,shape:\"square\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"project-title-right\"},/*#__PURE__*/React.createElement(\"h2\",null,project.companyName,\" \"),/*#__PURE__*/React.createElement(\"span\",null,project.project.projectName),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"span\",null,rate),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"span\",null,\"status: \",project.status),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),project.letter?/*#__PURE__*/React.createElement(\"a\",{href:project.letter.letterURL},/*#__PURE__*/React.createElement(ContainerOutlined,null),\" letter.pdf\"):/*#__PURE__*/React.createElement(\"a\",null))),/*#__PURE__*/React.createElement(\"div\",{className:\"project-apply\"},canRate?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{type:\"primary\",shape:\"round\",size:\"large\",onClick:this.rateCompany},\"Rate\"),/*#__PURE__*/React.createElement(\"br\",null)):''),/*#__PURE__*/React.createElement(\"div\",{className:\"project-clear\"})))));}}]);return StudentRateItem;}(Component);export default StudentRateItem;","map":{"version":3,"sources":["/Users/luxx/Desktop/frontend-projectsharing/src/component/student/StudentRateItem.js"],"names":["React","Component","message","Rate","Button","floor","StudentService","Avatar","UserOutlined","Upload","ContainerOutlined","StudentRateItem","props","handleChange","value","setState","console","log","rateCompany","id","state","companyID","then","response","success","canRate","catch","error","project","bind","isRateCompany","data","star","desc","rate","avatar","companyName","projectName","status","letter","letterURL"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport {message, Rate} from \"antd\";\nimport Button from \"antd/es/button\";\nimport {floor} from \"lodash\";\nimport StudentService from \"../service/StudentService\";\nimport Avatar from \"antd/es/avatar\";\nimport UserOutlined from \"@ant-design/icons/lib/icons/UserOutlined\";\nimport Upload from \"antd/es/upload\";\nimport ContainerOutlined from \"@ant-design/icons/lib/icons/ContainerOutlined\";\n\nclass StudentRateItem extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            value: 0,\n            companyID: this.props.project.companyID,\n            canRate: true,\n        };\n        this.rateCompany = this.rateCompany.bind(this);\n    }\n\n    handleChange = value => {\n        this.setState({ value });\n        console.log(value)\n    };\n\n    rateCompany = () => {\n        const id = this.state.companyID;\n        const value = this.state.value;\n        StudentService.rateCompany(id, value).then(response => {\n            message.success(\"rating successfully\")\n            this.setState({\n                canRate: false,\n            })\n        }).catch(error => {\n            message.error(\"rating failed\")\n        })\n    }\n\n    componentDidMount() {\n        StudentService.isRateCompany(this.state.companyID).then(response =>{\n            if (response.data) {\n                this.setState({\n                    value: response.data.star,\n                    canRate: false,\n                })\n            }\n\n        })\n    }\n\n    render() {\n        const project = this.props.project;\n        console.log(project)\n        const { value } = this.state;\n        const desc = ['terrible', 'bad', 'normal', 'good', 'wonderful'];\n        let rate = null;\n        const canRate = this.state.canRate\n        if (canRate) {\n            rate = (<>\n            <Rate tooltips={desc} onChange={this.handleChange} value={value} />\n            {\n                value ? <span className=\"ant-rate-text\">{desc[floor(value - 0.1)]}</span> : ''\n            } </>)\n\n        } else {\n            rate = (<>\n                <Rate tooltips={desc} value={value}  disabled/>\n                {\n                    value ? <span className=\"ant-rate-text\">{desc[floor(value - 0.1)]}</span> : ''\n                } </>)\n        }\n        return (\n            <div className=\"ant-card-bordered student-detail-container\">\n                <div className=\"project-detail\">\n                    <div className=\"project-detail-head\">\n                        <div className=\"project-detail-head-wrapper\" >\n                            <div className=\"project-detail-head-title\">\n                                { project.avatar?(\n                                    <Avatar src={project.avatar} className=\"project-img\" size={100}\n                                            shape=\"square\"/>\n                                ):(\n                                    <Avatar icon={<UserOutlined/>}className=\"project-img\" size={100}\n                                            shape=\"square\"/>\n                                )}\n                                <div className=\"project-title-right\">\n                                    <h2>{project.companyName} </h2>\n                                    <span>{project.project.projectName}</span><br/>\n                                    <span>\n                                        {rate}\n                                    </span><br/>\n                                    <span>status: {project.status}</span>\n                                    <br/>\n                                    <br/>\n                                    {\n                                        project.letter?(\n                                            <a href={project.letter.letterURL}><ContainerOutlined /> letter.pdf</a>\n                                        ):(\n                                            <a></a>\n                                        )\n                                    }\n                                </div>\n                            </div>\n                            <div className=\"project-apply\">\n                                {canRate ? (\n                                    <>\n                                    <Button type=\"primary\" shape=\"round\" size=\"large\" onClick={this.rateCompany}>\n                                        Rate\n                                    </Button>\n                                    <br/>\n                                    </>\n                                ) : ('')\n                                }\n\n                            </div>\n                            <div className=\"project-clear\"></div>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n\n        );\n    }\n}\n\nexport default StudentRateItem;"]},"metadata":{},"sourceType":"module"}